!function(e,t){"use strict";function r(e){function r(e,r,n,o,u,i){function a(){return u.setSelection(r,f.$viewValue.start,f.$viewValue.end,f.$viewValue.dir),f}function l(e){return s(e,f.$viewValue)?f:(e||(e={}),f.$viewValue={start:e.start||0,end:e.end||0,dir:e.dir,pos:e.dir?e.end||0:e.start||0},f)}function d(t){return t||(t={}),f.$modelValue||(f.$modelValue=m(e)),h&&s(h,f.$modelValue)?f:(f.$modelValue.start=t.start||0,f.$modelValue.end=t.end||0,f.$modelValue.dir=t.dir,f.$modelValue.pos=t.dir?t.end||0:t.start||0,v(e,f.$modelValue),f)}function s(e,t){if(!e||!t)return!1;var r=!0;return r=r&&e.start===t.start,r=r&&e.end===t.end,r=r&&e.dir===t.dir,r=r&&e.pos===t.pos}function $(){var t,r=f.$middleware,n=(r.length,m(e));return f.$modelValue=n,t=f.$modelValue,f.$setViewValue(t).$render(),f.$modelValue.pos=f.$viewValue.pos,i.$$phase||e.$apply(),n}function c(){w.forEach(function(e){r.on(e,V)})}function p(){w.forEach(function(e){r.off(e,V)})}function V(t){f.$viewValue=u.getSelection(r),i.$$phase||e.$apply(function(){f.$setModelValue(f.$viewValue)})}var f=this,m=n(o[t]),v=m.assign;f.$setModelValue=d,f.$setViewValue=l,f.$viewValue=u.getSelection(r),f.$render=a,f.$middleware=[],f.$setModelValue({start:0,end:0,pos:0,dir:void 0}),e.$watch(o[t],$,!0);var w=["click","keyup","keydown","keypress","mousedown","mouseup","focus","blur"];c(),e.$on("$destroy",p),e.debug="Debug!",e[t]=f;var h}function n(e){if("INPUT"!==e.prop("tagName")||e.prop("type")&&"text"!==e.prop("type"))throw"This directive should be applied to input[type=text] element.";return o}function o(e,t,r,n){}var u={restrict:"A",controller:r,compile:n};return r.$inject=["$scope","$element","$parse","$attrs","InputSelection","$rootScope"],u}e.directive(t,r),r.$inject=["InputSelection"]}(angular.module("arth.cursor",["arth.svc.InputSelection"]),"arthCursor");
!function(e,t){"use strict";function n(e){function n(e){if("INPUT"!==e.prop("tagName")||e.prop("type")&&"text"!==e.prop("type"))throw"This directive should be applied to input[type=text] element.";return r}function r(e,n,r,i){function o(e){var t=c.join("");return e.substr(0,t.length)===t&&e.length>t.length?(c.push(e.substr(t.length)),e):t}function u(e){c.push(e),p.$setViewValue((p.$viewValue||"")+e),p.$render()}var p=i[0];p.$parsers.push(o);var s=e[t],c=[];s.tokens=c,s.addToken=u}var i={restrict:"A",scope:{},require:["ngModel"],compile:n};return i.scope[t]="=",i}e.directive(t,n),n.$inject=["InputSelection"]}(angular.module("arth.tokenized",["arth.svc.InputSelection"]),"arthTokenized");
!function(t){"use strict";function n(){function t(t){var o={start:n(t),end:e(t),dir:r(t)};return o.pos=o.dir?o.end:o.start,o}function n(t){return t[0].selectionStart}function e(t){return t[0].selectionEnd}function r(t){var n={none:void 0,forward:!0,backward:!1};return n[t[0].selectionDirection]}function o(t,n,e,r){n=n||0,e=e||0,t[0].setSelectionRange(Math.min(n,e),Math.max(n,e),"undefined"==typeof r?"none":r?"forward":"backward")}return{getSelection:t,getSelectionStart:n,getSelectionEnd:e,getSelectionDirection:r,setSelection:o}}t.factory("InputSelection",n)}(angular.module("arth.svc.InputSelection",[]));