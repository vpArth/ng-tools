!function(e,t){"use strict";function n(e){function n(e,n,r,o,u,i){function a(){return u.setSelection(n,m.$viewValue.start,m.$viewValue.end,m.$viewValue.dir),m}function l(e){return V(e,m.$viewValue)?m:(e||(e={}),f(m.$viewValue,e.start,e.end,e.dir),m)}function s(t){return t||(t={}),m.$modelValue||(m.$modelValue=w(e)),S&&V(S,m.$modelValue)?m:(f(m.$modelValue,t.start,t.end,t.dir),h(e,m.$modelValue),m)}function d(){var t,n=m.$middleware,r=(n.length,w(e));return v(r,m.$viewValue)?(f(r,r.pos,r.pos,!0),h(e,r),r):(m.$modelValue=r,t=m.$modelValue,m.$setViewValue(t).$render(),m.$modelValue.pos=m.$viewValue.pos,i.$$phase||e.$apply(),r)}function $(){y.forEach(function(e){n.on(e,p)})}function c(){y.forEach(function(e){n.off(e,p)})}function p(t){m.$viewValue=u.getSelection(n),i.$$phase||e.$apply(function(){m.$setModelValue(m.$viewValue)})}function f(e,t,n,r){var o=Math.min(t,n),u=Math.max(t,n),i=r,a=i?u:o;return e.start=o,e.end=u,e.dir=i,e.pos=a,e}function V(e,t){if(!e||!t)return!1;var n=!0;return n=n&&e.start===t.start,n=n&&e.end===t.end,n=n&&e.dir===t.dir,n=n&&e.pos===t.pos}function v(e,t){if(!e||!t)return!1;var n=!0;return n=n&&e.start===t.start,n=n&&e.end===t.end,n=n&&e.dir===t.dir,n=n&&e.pos!==t.pos}var m=this,w=r(o[t]),h=w.assign;m.$setModelValue=s,m.$setViewValue=l,m.$viewValue=u.getSelection(n),m.$render=a,m.$middleware=[],m.$setModelValue({start:0,end:0,pos:0,dir:void 0}),e.$watch(o[t],d,!0);var y=["click","keyup","keydown","keypress","mousedown","mouseup","focus","blur"];$(),e.$on("$destroy",c),e[t]=m;var S}function r(e){if("INPUT"!==e.prop("tagName")||e.prop("type")&&"text"!==e.prop("type"))throw"This directive should be applied to input[type=text] element.";return o}function o(e,t,n,r){}var u={restrict:"A",controller:n,compile:r};return n.$inject=["$scope","$element","$parse","$attrs","InputSelection","$rootScope"],u}e.directive(t,n),n.$inject=["InputSelection"]}(angular.module("arth.cursor",["arth.svc.InputSelection"]),"arthCursor");
!function(t){"use strict";function n(){function t(t){var o={start:n(t),end:e(t),dir:r(t)};return o.pos=o.dir?o.end:o.start,o}function n(t){return t[0].selectionStart}function e(t){return t[0].selectionEnd}function r(t){var n={none:void 0,forward:!0,backward:!1};return n[t[0].selectionDirection]}function o(t,n,e,r){n=n||0,e=e||0,t[0].setSelectionRange(Math.min(n,e),Math.max(n,e),"undefined"==typeof r?"none":r?"forward":"backward")}return{getSelection:t,getSelectionStart:n,getSelectionEnd:e,getSelectionDirection:r,setSelection:o}}t.factory("InputSelection",n)}(angular.module("arth.svc.InputSelection",[]));