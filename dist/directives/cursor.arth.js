!function(e,t){"use strict";function n(e){function n(e,n,r,o,u,i){function a(){return u.setSelection(n,v.$viewValue.start,v.$viewValue.end,v.$viewValue.dir),v}function l(e){return V(e,v.$viewValue)?v:(e||(e={}),f(v.$viewValue,e.start,e.end,e.dir),v)}function $(t){return t||(t={}),v.$modelValue||(v.$modelValue=m(e)),y&&V(y,v.$modelValue)?v:(f(v.$modelValue,t.start,t.end,t.dir),w(e,v.$modelValue),v)}function c(){var t,n=v.$middleware,r=(n.length,m(e));return v.$modelValue=r,t=v.$modelValue,v.$setViewValue(t).$render(),v.$modelValue.pos=v.$viewValue.pos,i.$$phase||e.$apply(),r}function s(){h.forEach(function(e){n.on(e,p)})}function d(){h.forEach(function(e){n.off(e,p)})}function p(t){v.$viewValue=u.getSelection(n),i.$$phase||e.$apply(function(){v.$setModelValue(v.$viewValue)})}function f(e,t,n,r){var o,u,i=Math.min(t,n),a=Math.max(t,n),o=r,u=o?a:i;return e.start=i,e.end=a,e.dir=o,e.post=u,e}function V(e,t){if(!e||!t)return!1;var n=!0;return n=n&&e.start===t.start,n=n&&e.end===t.end,n=n&&e.dir===t.dir,n=n&&e.pos===t.pos}var v=this,m=r(o[t]),w=m.assign;v.$setModelValue=$,v.$setViewValue=l,v.$viewValue=u.getSelection(n),v.$render=a,v.$middleware=[],v.$setModelValue({start:0,end:0,pos:0,dir:void 0}),e.$watch(o[t],c,!0);var h=["click","keyup","keydown","keypress","mousedown","mouseup","focus","blur"];s(),e.$on("$destroy",d),e[t]=v;var y}function r(e){if("INPUT"!==e.prop("tagName")||e.prop("type")&&"text"!==e.prop("type"))throw"This directive should be applied to input[type=text] element.";return o}function o(e,t,n,r){}var u={restrict:"A",controller:n,compile:r};return n.$inject=["$scope","$element","$parse","$attrs","InputSelection","$rootScope"],u}e.directive(t,n),n.$inject=["InputSelection"]}(angular.module("arth.cursor",["arth.svc.InputSelection"]),"arthCursor");